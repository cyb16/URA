<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register Asset</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <h2 class="text-center">ASSET REGISTRATION</h2>
    <div class="container">
      <div class="jumbotron">
        <div class="row">
          <div class="col-md-8">
            <!-- Feel free to delete the paragraph after implementation -->
            <p>
              Create an appropriate form to capture the asset's details as
              indicated in the description. Upon successfull registration, an
              asset code matching the criteria must be generated and
              communicated to the user in form of an alert.
            </p>
          </div>

          <form id="assetForm" name="assetForm" method="post">
            <label for="assetName">Asset Name:</label>
            <input type="text" id="assetName" name="assetName" required />

            <label for="estimatedCost">Estimated Cost:</label>
            <input
              type="number"
              id="estimatedCost"
              name="estimatedCost"
              min="0"
              required
            />

            <label for="ownerTIN">Owner's TIN:</label>
            <input type="text" id="ownerTIN" name="ownerTIN" required />

            <label for="type">Type:</label>
            <select id="type" name="type" required>
              <option value="fixed">Fixed</option>
              <option value="movable">Movable</option>
            </select>

            <button type="button" id="submitButton">Submit</button>
          </form>
          <label id="assetNumberLabel"></label>

          <div class="col-md-4">
            <form class="form-inline pt-10">
              <input
                class="form-control mr-sm-2"
                type="search"
                placeholder="ENTER ASSET CODE"
                aria-label="Search"
              />
              <br /><br />
              <button class="btn btn-success" type="submit">
                SEARCH ASSET
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="jumbotron">
        <h3 class="text-center">REGISTERED ASSETS</h3>
        <div class="row">
          <!-- Feel free to delete the paragraph after implementation -->
          <p>
            Create a tabular view of the assets displaying the first 10 with
            navigation buttons to the next batch of 10 Assets.
          </p>
          <p>
            Upon search of an asset from the search field above, the searched
            Asset should be the only one returned in the tabular view.
          </p>
        </div>
      </div>
    </div>

    <div class="row text-center">
      <a class="btn btn-primary" href="index.html">BACK HOME</a>
    </div>
    <script>
          const assetForm = document.getElementById('assetForm');
const submitButton = document.getElementById('submitButton');
const assetNumberLabel = document.getElementById('assetNumberLabel');

submitButton.addEventListener('click', () => {
  // Extract form data
  const assetName = document.getElementById('assetName').value;
  const estimatedCost = parseFloat(document.getElementById('estimatedCost').value);
  const ownerTIN = document.getElementById('ownerTIN').value;
  const type = document.getElementById('type').value;

  // Validate form data
  if (!assetName || assetName.trim() === '') {
    alert('Please enter a valid asset name.');
    return;
  }

  if (estimatedCost < 0) {
    alert('Estimated cost must be a non-negative number.');
    return;
  }

  if (!ownerTIN || ownerTIN.trim() === '') {
    alert('Please enter a valid owner TIN.');
    return;
  }

  if (!type || type === 'Select') {
    alert('Please select an asset type.');
    return;
  }

  // Generate asset number
  const lastThreeTIN = ownerTIN.slice(-3);
  const randomString = Math.random().toString(36).substr(2, 5);
  const assetNumber = randomString.toUpperCase() + lastThreeTIN;

  // Update asset number label
  assetNumberLabel.textContent = `Asset Number: ${assetNumber}`;
});

    </script>
  </body>
</html>
